{"version":3,"file":"2-form-0803746f.js","sources":["../../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = \"feedback-form-state\"\n\nconst form = document.querySelector(\".feedback-form\");\nconst emailInput = document.querySelector(\"input\");\nconst messageTextarea = document.querySelector(\"textarea\");\n\nfunction formSubmitHandler(event) {\n    event.preventDefault();\n    \n    if (emailInput.value.trim() === \"\" || messageTextarea.value.trim() === \"\") {\n        return alert(`All form fields must be filled in`);\n    } else {\n        localStorage.removeItem(STORAGE_KEY);\n    }\n\n    const email = emailInput.value.trim();\n    const text = messageTextarea.value.trim();\n    const data = JSON.stringify({ email, text });\n    \n    localStorage.setItem(STORAGE_KEY, data);\n\n    const jsn = localStorage.getItem(STORAGE_KEY) ?? \"\";\n    try {\n        const savedData = JSON.parse(jsn);\n        console.log(savedData);\n        messageTextarea.value = savedData.text;\n        emailInput.value = savedData.email;\n    } catch {\n        console.log(\"No saved data!\");\n    };\n\n    event.currentTarget.reset();\n}\n\nwindow.addEventListener('beforeunload', function(event) {\n    event.preventDefault();\n    localStorage.getItem(STORAGE_KEY);\n});\n\nform.addEventListener('submit', formSubmitHandler);\n"],"names":["STORAGE_KEY","form","emailInput","messageTextarea","formSubmitHandler","event","email","text","data","jsn","savedData"],"mappings":"AAAA,MAAMA,EAAc,sBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,OAAO,EAC3CC,EAAkB,SAAS,cAAc,UAAU,EAEzD,SAASC,EAAkBC,EAAO,CAG9B,GAFAA,EAAM,eAAc,EAEhBH,EAAW,MAAM,SAAW,IAAMC,EAAgB,MAAM,KAAM,IAAK,GACnE,OAAO,MAAM,mCAAmC,EAEhD,aAAa,WAAWH,CAAW,EAGvC,MAAMM,EAAQJ,EAAW,MAAM,KAAI,EAC7BK,EAAOJ,EAAgB,MAAM,KAAI,EACjCK,EAAO,KAAK,UAAU,CAAE,MAAAF,EAAO,KAAAC,CAAI,CAAE,EAE3C,aAAa,QAAQP,EAAaQ,CAAI,EAEtC,MAAMC,EAAM,aAAa,QAAQT,CAAW,GAAK,GACjD,GAAI,CACA,MAAMU,EAAY,KAAK,MAAMD,CAAG,EAChC,QAAQ,IAAIC,CAAS,EACrBP,EAAgB,MAAQO,EAAU,KAClCR,EAAW,MAAQQ,EAAU,KACrC,MAAY,CACJ,QAAQ,IAAI,gBAAgB,CAEpC,CACIL,EAAM,cAAc,OACxB,CAEA,OAAO,iBAAiB,eAAgB,SAASA,EAAO,CACpDA,EAAM,eAAc,EACpB,aAAa,QAAQL,CAAW,CACpC,CAAC,EAEDC,EAAK,iBAAiB,SAAUG,CAAiB"}